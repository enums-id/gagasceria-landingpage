import{c as de,a as n,f as I,t as se}from"../chunks/deBilocq.js";import{i as he}from"../chunks/BQ4rEcx_.js";import{p as we,z as ae,b as ye,c as A,r as v,l as f,g as e,A as N,y as g,w as t,t as W,q as ve,K as fe,L as Fe,s as S,m as ee}from"../chunks/Bz976qHE.js";import{s as xe,e as je}from"../chunks/Ci0SaWem.js";import{p as i,i as j,s as _e,a as Ae,b as Ne}from"../chunks/CekalL-x.js";import{T as q,b as te,a as re,e as ue,B as pe,i as ge,N as Pe,F as ke}from"../chunks/BrOFaXl2.js";import{e as l,u as be}from"../chunks/BP6X1rsh.js";import"../chunks/CRzqW1OR.js";import{H as ze}from"../chunks/Blza0dM6.js";import{p as Ie}from"../chunks/be5PNjU_.js";import{c as Te}from"../chunks/jh6ipbT5.js";var Be=I('<div class="flex flex-wrap gap-4 mt-4"></div>'),Me=I('<div><div class="w-full md:w-1/2 flex justify-center !px-4 md:!px-0"><img/></div> <div><!> <!> <!></div></div>'),He=I('<div class="flex flex-wrap gap-4 mt-4"></div>'),Le=I("<div><!> <!> <!></div>");function Se(O,s){we(s,!1);let X=i(s,"image",8),oe=i(s,"imageAlt",8,""),U=i(s,"title",8),M=i(s,"subtitle",8),D=i(s,"reverse",8,!1),r=i(s,"imageClass",8,""),H=i(s,"titleClass",8,""),E=i(s,"subtitleClass",8,""),L=i(s,"containerClass",8,""),h=i(s,"textClass",8,""),le=i(s,"dataAos",8,""),K=i(s,"titleColor",8,""),Y=i(s,"subtitleColor",8,""),d=i(s,"buttonProps",24,()=>[]);he();var R=de(),Z=ae(R);{var ie=w=>{var u=Me(),P=A(u),T=A(P);v(P);var k=f(P,2),a=A(k);const y=N(()=>`!mb-4 ${H()}`);q(a,{get text(){return U()},variant:"h2",size:"4xl",weight:"bold",get color(){return K()},get className(){return e(y)}});var C=f(a,2);const m=N(()=>`!mb-2 ${E()}`);q(C,{get text(){return M()},variant:"p",size:"xl",weight:"light",get color(){return Y()},get className(){return e(m)}});var x=f(C,2);{var _=c=>{var p=Be();ue(p,5,d,ge,($,z)=>{pe($,_e(()=>e(z),{children:(B,o)=>{ve();var b=se();W(()=>xe(b,(e(z),t(()=>e(z).text)))),n(B,b)},$$slots:{default:!0}}))}),v(p),n(c,p)};j(x,c=>{g(d()),t(()=>d()&&d().length)&&c(_)})}v(k),v(u),W(()=>{te(u,1,`flex flex-col md:flex-row items-center justify-center gap-12 max-w-6xl !mx-auto !my-16 md:!px-0 ${L()} ${D()?"md:flex-row-reverse":""}`),re(u,"data-aos",le()),re(T,"src",X()),re(T,"alt",oe()),te(T,1,`rounded-3xl w-full md:max-w-md object-cover ${r()}`),te(k,1,`w-full md:w-1/2 md:max-w-md flex flex-col items-start justify-center text-left !px-4 md:!px-0 ${h()}`)}),n(w,u)},G=w=>{var u=Le(),P=A(u);const T=N(()=>`!mb-4 ${H()}`);q(P,{get text(){return U()},variant:"h2",size:"4xl",weight:"bold",get color(){return K()},get className(){return e(T)}});var k=f(P,2);const a=N(()=>`!mb-2 ${E()}`);q(k,{get text(){return M()},variant:"p",size:"xl",weight:"light",get color(){return Y()},get className(){return e(a)}});var y=f(k,2);{var C=m=>{var x=He();ue(x,5,d,ge,(_,c)=>{pe(_,_e(()=>e(c),{children:(p,$)=>{ve();var z=se();W(()=>xe(z,(e(c),t(()=>e(c).text)))),n(p,z)},$$slots:{default:!0}}))}),v(x),n(m,x)};j(y,m=>{g(d()),t(()=>d()&&d().length)&&m(C)})}v(u),W(()=>te(u,1,`flex flex-col items-center md:items-start justify-center max-w-4xl mx-auto my-16 px-4 ${L()}`)),n(w,u)};j(Z,w=>{X()?w(ie):w(G,!1)})}n(O,R),ye()}const qe=!1,Oe=!1,Ue=async({params:O})=>({program_slug:O.program_slug}),at=Object.freeze(Object.defineProperty({__proto__:null,load:Ue,prerender:Oe,ssr:qe},Symbol.toStringTag,{value:"Module"}));var De=I(`<div class="mt-8 flex justify-center"><button class="rounded-full border px-6 py-2 text-sm font-medium transition
						        hover:bg-[#f5843a]/10 border-[#f5843a] text-[#f5843a]
						        disabled:opacity-50 disabled:cursor-not-allowed"><!> <!></button></div>`),Ee=I("<!> <!>",1),Ke=I('<div class="flex flex-col items-center justify-center"><!></div>'),Re=I('<section class="py-20 h-full"><!> <!> <div data-aos="fade-up" data-aos-delay="200" class="!mx-auto w-[56%] !mb-16"><!> <!></div> <!></section>');function rt(O,s){we(s,!1);const[X,oe]=Ae(),U=()=>Ne(Ie,"$page",X),M=ee();let D=i(s,"data",8),r=ee(),H=1;const E=10;let L=ee(!0),h=ee(!1);const le=`
	*[_type == "program" && slug.current == $slug][0]{
	  "program_name": name,
	  "program_slug": slug.current,
	  "program_desc": desc,
	  "total": count(*[_type == "activity" && references(^._id)]),
	  "activities": *[_type == "activity" && references(^._id)]
	    | order(date desc)[$offset...$end]{
	      _id,
	      title,
	      preview,
	      date,
	      "program_name": program->name,
	      "program_slug": program->slug.current,
	      "bannerUrl": bannerImage.asset->url,
	      bannerImage
	    }
	}
	`;async function K(a){var x;S(h,!0);const y=(a-1)*E,C=y+E,m=await Te.fetch(le,{slug:D().program_slug,offset:y,end:C});!e(r)||a===1?S(r,m):S(r,{...e(r),total:m.total,activities:[...e(r).activities??[],...m.activities??[]]}),S(L,C<(((x=e(r))==null?void 0:x.total)??0)),H=a,S(h,!1)}async function Y(){if(!e(L)||e(h))return;await K(H+1);const a=new URL(window.location.href);a.searchParams.set("page",String(H)),history.replaceState({},"",a)}fe(()=>U(),()=>{S(M,Number(U().url.searchParams.get("page")??1))}),fe(()=>(g(D()),e(M)),()=>{D().program_slug&&K(e(M))}),Fe(),he();var d=Re(),R=A(d);Pe(R,{navbarBgColor:"#F5843A",buttonBgColor:"#FFFFFF",buttonTextColor:"#F5843A"});var Z=f(R,2);const ie=N(()=>(e(r),t(()=>{var a;return((a=e(r))==null?void 0:a.program_name)??""})));ze(Z,{show:!0,align:"center",dataAos:"fade-up",mainClass:"!max-w-2xl",backgroundColor:"#f5843a",get title(){return e(ie)},subtitle:"",titleCenter:!0,get backgroundImage(){return g(l),t(()=>l.hero.backgroundImage)}});var G=f(Z,2),w=A(G);const u=N(()=>(e(r),t(()=>{var a;return`Aktivitas ${((a=e(r))==null?void 0:a.program_name)??""}`})));q(w,{size:"4xl",variant:"h2",weight:"bold",align:"center",color:"#f5843a",className:"!mt-24",get text(){return e(u)}});var P=f(w,2);{var T=a=>{var y=de(),C=ae(y);{var m=_=>{var c=Ee(),p=ae(c);ue(p,1,()=>(e(r),t(()=>e(r).activities)),ge,(B,o,b)=>{var J=de(),ne=ae(J);{var ce=Q=>{const F=N(()=>(g(be),e(o),t(()=>be(e(o).bannerImage).url()))),V=N(()=>(e(o),t(()=>{var me;return(me=e(o).bannerImage.asset)==null?void 0:me._key}))),Ce=N(()=>(e(r),e(o),t(()=>[{text:"Info Lebih Lanjut",variant:"secondary",href:`/explore/${e(r).program_slug}/${e(o)._id}`}])));Se(Q,{textClass:"!mb-4",get image(){return e(F)},get title(){return e(o),t(()=>e(o).title)},titleClass:"!mb-4 text-2xl font-semibold",titleColor:"#f5843a",subtitleClass:"!mb-4",reverse:b%2===0,subtitleColor:"#364153",get imageAlt(){return e(V)},get subtitle(){return e(o),t(()=>e(o).preview)},imageClass:"rounded-3xl w-full md:max-w-md object-cover",get buttonProps(){return e(Ce)}})};j(ne,Q=>{e(o),t(()=>e(o).bannerImage)&&Q(ce)})}n(B,J)});var $=f(p,2);{var z=B=>{var o=De(),b=A(o),J=A(b);{var ne=F=>{var V=se("Memuat...");n(F,V)};j(J,F=>{e(h)&&F(ne)})}var ce=f(J,2);{var Q=F=>{var V=se("Muat Lebih");n(F,V)};j(ce,F=>{e(h)||F(Q)})}v(b),v(o),W(()=>{b.disabled=e(h),re(b,"aria-busy",e(h))}),je("click",b,Y),n(B,o)};j($,B=>{e(L)&&B(z)})}n(_,c)},x=_=>{var c=Ke(),p=A(c);q(p,{size:"4xl",variant:"h2",weight:"bold",align:"center",color:"#f5843a",className:"!mb-8",text:"Belum ada aktivitas yang tersedia"}),v(c),n(_,c)};j(C,_=>{e(r),t(()=>e(r).activities.length>0)?_(m):_(x,!1)})}n(a,y)};j(P,a=>{e(r)&&a(T)})}v(G);var k=f(G,2);ke(k,{buttonBgColor:"#FFFFFF",buttonTextColor:"#F5843A",minHeight:"min-h-[40vh]",backgroundColor:"#f5843a",padding:"!px-8 !py-16 md:!px-24",get title(){return g(l),t(()=>l.footer.title)},get phone(){return g(l),t(()=>l.footer.contact.phone)},get buttonText(){return g(l),t(()=>l.footer.buttonText)},get buttonHref(){return g(l),t(()=>l.footer.buttonHref)},get address(){return g(l),t(()=>l.footer.contact.address)},get website(){return g(l),t(()=>l.footer.contact.website)},get socialMedia(){return g(l),t(()=>l.footer.contact.socialMedia)}}),v(d),n(O,d),ye(),oe()}export{rt as component,at as universal};
